#CodeBook

This document describes the variables of the tidy data set generated by [run_analysis.R](run_analysis.R).

For a detailed explanation of that script, refer to the [README](README.md).

##Source Data

The original data is from this study: http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones

This was made available as a zip file that when unzipped provided the following files:

````
├── README.txt
├── activity_labels.txt
├── features.txt
├── features_info.txt
├── test
│   ├── X_test.txt
│   ├── subject_test.txt
│   └── y_test.txt
└── train
    ├── X_train.txt
    ├── subject_train.txt
    └── y_train.txt
````

The dataset was divided into 'test' and 'train' folders, but those are combined by the script. The files prefixed with "X" provide the core measurement data. The files prefixed with "y" contain the activity labels that correspond to the measurement data (within each subdirectory those files have the same number of rows). Likewise, the "subject" files provide the subject numbers from which each measurement was recorded. The *features.txt* file provides the column names for the dataset and the *activity_labels.txt* file maps the numeric activity identifiers to meaningful names.

**NOTE:** both the 'test' and 'train' directories also include 'Inertial Signals' sub-directories, but those were not used for this project.

##Transformations and Summaries

The resulting tidy dataset represents average values for each measurement type that included a corresponding mean and standard deviation. The original datasets needed to be combined from two subdirectories: one for training data and another for test data. Additionally, the features (variable names) were stored in a separate file. That has been mapped onto the core dataset. Likewise, the subjects and activity types were both in separate files. Those needed to be bound as new columns to the core dataset.

The data has been summarized by collapsing to rows that are unique based on the combination of subject, activity, and measurement type. This is described in detail within the [README](README.md).

In the original dataset, the variable names (as mapped from the features.txt file) combined many different pieces of information. They are prefixed with either "t" for time or "f" for frequency according to which *unit* was being measured. The variable name includes the type of *device* ("Acc" for accelerometer or "Gyro" for gyroscope). The variable name also includes either 'mean' or 'std' (standard deviation) based on the type of *measure* being recorded. Many of the variables also include the *axis* (X, Y, or Z), but not every measurement is based on an axis.

For the tidy data set, those variable names were decomposed for clarification and to provide more opportunities for data exploration and plotting based on various factors. I also expanded the abbreviations to be clearer for the user of the data (each name started with *t* for time or *f* for frequency, and each contains either *Acc* for accelerometer or *Gyro* for gyroscope).

As an example, one of the original variable names is: **fBodyAccJerk-mean-X**

In the resulting tidy data set that has been decomposed into 5 columns as such:

1. unit = frequency
2. device = accelerometer
3. signal = BodyJerk
4. measure = mean
5. axis = X

The tidy dataset is a long-form representation (as opposed to wide-form). This in combination with the decomposition of the variable names into its constituent parts is intended to provide the maximum flexibility for using the data in an exploratory way. For example, the long-form dataset facilitates plotting with libraries such as *ggplot2*, and the decomposed variables provide more opportunities for generating summaries based on different subsets of the data. For more rationale on the decision to create a long-form as opposed to wide-form tidy dataset, refer to [this section](README.md#long-form-vs-wide-form) of the README document.

##Overview of Variables in the Tidy Dataset

The following list shows a high level overview of the columns present in the tidy dataset:

* **subject** : Factor w/ 30 levels: 1-30
* **activity**: Factor w/ 6 levels:  LAYING, SITTING, STANDING, WALKING, WALKING\_DOWNSTAIRS, WALKING_UPSTAIRS)
* **unit**    : Factor w/ 2 levels:  frequency, time
* **device**  : Factor w/ 2 levels:  accelerometer, gyroscope
* **signal**  : Factor w/ 8 levels:  Body, BodyBodyJerkMag, BodyBodyMag, BodyJerk, BodyJerkMag, BodyMag, Gravity, GravityMag
* **measure** : Factor w/ 2 levels:  mean, std
* **axis**    : Factor w/ 3 levels:  X, Y, Z (and for measurements that are not based on an axis, this will contain NA)
* **average** : numeric value for the average of the associated mean or std values in the original dataset

And here is the output of *summary(tidy)*:

````
    subject                   activity           unit                device    
 1      : 396   LAYING            :1980   frequency:4680   accelerometer:7200  
 2      : 396   SITTING           :1980   time     :7200   gyroscope    :4680  
 3      : 396   STANDING          :1980                                        
 4      : 396   WALKING           :1980                                        
 5      : 396   WALKING_DOWNSTAIRS:1980                                        
 6      : 396   WALKING_UPSTAIRS  :1980                                        
 (Other):9504                                                                  
             signal     measure       axis         average        
 Body           :4320   mean:5940   X   :2880   Min.   :-0.99767  
 BodyJerk       :3240   std :5940   Y   :2880   1st Qu.:-0.96205  
 BodyMag        :1080               Z   :2880   Median :-0.46989  
 Gravity        :1080               NA's:3240   Mean   :-0.48436  
 BodyBodyJerkMag: 720                           3rd Qu.:-0.07836  
 BodyJerkMag    : 720                           Max.   : 0.97451  
 (Other)        : 720                                 
````

The next section provides a description of each variable along with the possible values for factors as well as the scope and range of values for the numeric "average".

##Variable Descriptions

* subject
  * Numeric identifier of the subject from which a measurement was taken
    * 1..30

* activity
  * Type of activity for which a measurement was taken
    * LAYING
    * SITTING
    * STANDING
    * WALKING
    * WALKING\_DOWNSTAIRS
    * WALKING_UPSTAIRS

* unit
  * Unit of measure that has been recorded
    * frequency
    * time

* device
  * Device used to record the signal
    * accelerometer
    * gyroscope

* signal
  * Type of signal that has been recorded by a measurement
    * Body
    * BodyBodyJerkMag
    * BodyBodyMag
    * BodyJerk
    * BodyJerkMag
    * BodyMag
    * Gravity
    * GravityMag

* measure
  * Type of calculation performed to produce the recorded value
    * mean
    * std

* axis
  * Axis for which a measure was recorded (or NA if not an axis-based measurement)
    * X
    * Y
    * Z

* average
  * Numeric value for the average of the associated mean or std values in the original dataset
  * The actual range of values in the dataset is -0.9976661 to 0.9745087. The scale is:
    * -1..1
